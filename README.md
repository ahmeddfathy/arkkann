# نظام طلبات العمل الإضافي (Overtime Requests System)

## نظرة عامة
نظام متكامل لإدارة طلبات العمل الإضافي في المؤسسة، يتيح للموظفين تقديم طلبات العمل الإضافي ومتابعتها، كما يمكن للمدراء وموظفي الموارد البشرية مراجعة واعتماد هذه الطلبات.

## الأدوار الرئيسية في النظام
1. **الموظف (Employee)**
   - تقديم طلبات العمل الإضافي
   - عرض طلباته السابقة وحالتها
   - تعديل أو حذف الطلبات المعلقة
   - عرض إحصائياته الشخصية
   - تلقي إشعارات حول حالة طلباته

2. **قائد الفريق (Team Leader)**
   - مراجعة طلبات أعضاء فريقه
   - الموافقة أو رفض الطلبات مع إبداء السبب
   - عرض إحصائيات فريقه
   - متابعة أداء أعضاء الفريق
   - تلقي إشعارات بالطلبات الجديدة

3. **مدير القسم (Department Manager)**
   - مراجعة طلبات الأقسام التابعة له
   - الموافقة أو رفض الطلبات مع التعليق
   - عرض إحصائيات القسم التفصيلية
   - تحليل اتجاهات العمل الإضافي
   - إدارة الموافقات المتعددة

4. **الموارد البشرية (HR)**
   - مراجعة جميع طلبات العمل الإضافي
   - الموافقة النهائية أو الرفض مع التبرير
   - عرض إحصائيات الشركة الشاملة
   - إدارة التقارير المتقدمة
   - مراقبة الامتثال للسياسات

## حالات الطلب
- **معلق (Pending)**: الطلب في انتظار المراجعة
- **موافق عليه (Approved)**: تمت الموافقة على الطلب
- **مرفوض (Rejected)**: تم رفض الطلب مع ذكر السبب

## مسار الموافقة على الطلب
1. يقدم الموظف طلب العمل الإضافي
2. يراجع المدير المباشر (قائد الفريق/مدير القسم) الطلب
3. تراجع الموارد البشرية الطلب
4. يتم اعتماد الطلب نهائياً في حالة موافقة الطرفين
5. يتم إخطار الموظف بكل تغيير في حالة الطلب

## الميزات الرئيسية

### 1. إدارة الطلبات
- إنشاء طلبات جديدة مع التحقق التلقائي
- تعديل الطلبات المعلقة بسهولة
- حذف الطلبات غير المعتمدة
- عرض تفاصيل الطلبات الشاملة
- تتبع حالة الطلبات في الوقت الفعلي
- البحث المتقدم في الطلبات

### 2. الصلاحيات والأدوار
- نظام صلاحيات متكامل لكل دور
- تحكم دقيق في الوصول للوظائف
- فصل صلاحيات المدراء عن HR
- إدارة مرنة للأدوار والصلاحيات
- حماية العمليات الحساسة

### 3. الإشعارات
- إشعارات فورية للطلبات الجديدة
- تنبيهات تحديث حالة الطلب
- إشعارات الموافقة أو الرفض
- تذكيرات للطلبات المعلقة
- إشعارات مخصصة لكل دور

### 4. التقارير والإحصائيات
- إحصائيات شخصية تفصيلية للموظف
- تقارير أداء الفريق للمدراء
- إحصائيات شاملة للموارد البشرية
- تحليل الاتجاهات الشهرية والسنوية
- تقارير حسب الأقسام والفرق
- مؤشرات الأداء الرئيسية (KPIs)

### 5. التحقق والتدقيق
- التحقق من تداخل الأوقات تلقائياً
- التحقق من الصلاحيات والأدوار
- تتبع التغييرات على الطلبات
- سجل المراجعة الكامل
- ضمان الامتثال للسياسات

## المكونات التقنية

### 1. النماذج (Models)
- `OverTimeRequests`: نموذج طلبات العمل الإضافي
- `User`: نموذج المستخدمين والصلاحيات
- `Team`: نموذج الفرق والأقسام
- `Notification`: نموذج الإشعارات

### 2. الخدمات (Services)
- `OverTimeRequestService`: منطق العمل الرئيسي
- `NotificationOvertimeService`: خدمة الإشعارات
- `StatisticsService`: خدمة التقارير والإحصائيات
- `ValidationService`: خدمة التحقق والتدقيق

### 3. المتحكمات (Controllers)
- `OverTimeRequestsController`: التحكم في العمليات
- `StatisticsController`: إدارة التقارير
- `NotificationsController`: إدارة الإشعارات

## الوظائف المتقدمة

### 1. حساب ساعات العمل الإضافي
- حساب إجمالي الساعات بدقة
- تتبع الساعات المعتمدة والمرفوضة
- تقارير شهرية للساعات
- تحليل توزيع الساعات
- مقارنة مع الحدود المسموحة

### 2. التصفية والبحث
- تصفية متقدمة حسب الحالة
- البحث الشامل في الطلبات
- تصفية حسب النطاق الزمني
- فلترة حسب الأقسام والفرق
- خيارات بحث مخصصة

### 3. الإحصائيات المتقدمة
- معدلات الموافقة والرفض
- تحليل الاتجاهات الزمنية
- أكثر الموظفين والفرق نشاطاً
- كفاءة الأقسام والفرق
- تحليل أسباب الرفض

## الأمان والتحقق
- التحقق الشامل من البيانات
- حماية متعددة المستويات للصلاحيات
- تسجيل كامل للعمليات
- منع التداخل في الطلبات
- حماية البيانات الحساسة

## التقنيات المستخدمة
- Laravel Framework للتطوير
- Eloquent ORM للتعامل مع البيانات
- Blade Templates لواجهة المستخدم
- Carbon للتعامل مع التواريخ
- نظام الصلاحيات والأدوار المتكامل
- Bootstrap للتصميم المتجاوب
- JavaScript للتفاعلات الديناميكية
- Chart.js للرسوم البيانية
- MySQL لقاعدة البيانات

## متطلبات النظام
- PHP >= 8.1
- Laravel >= 10.x
- MySQL >= 8.0
- Node.js >= 16.x
- Composer
- npm

## التثبيت والإعداد
1. نسخ المستودع
2. تثبيت التبعيات
3. إعداد ملف البيئة
4. تهيئة قاعدة البيانات
5. تشغيل الخدمات

## المساهمة
نرحب بمساهماتكم في تطوير النظام. يرجى اتباع إرشادات المساهمة المرفقة.
